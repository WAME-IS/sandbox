(function(a){a.fn.multilevelpushmenu=function(c){var b=arguments;returnValue=null;this.each(function(){var O=this,q=a(this),m=(q.context!=undefined)?q:a("body"),V=(c&&c.menu!=undefined)?c.menu:q.find("nav"),K,f;var T=a.extend({container:m,containersToPush:null,menuID:((m.prop("id")!=undefined&&m.prop("id")!="")?m.prop("id"):this.nodeName.toLowerCase())+"_multilevelpushmenu",wrapperClass:"multilevelpushmenu_wrapper",menuInactiveClass:"multilevelpushmenu_inactive",menu:V,menuWidth:0,menuHeight:0,collapsed:false,fullCollapse:false,direction:"ltr",backText:"Back",backItemClass:"backItemClass",backItemIcon:"fa fa-angle-right",groupIcon:"fa fa-angle-left",mode:"overlap",overlapWidth:40,preventItemClick:true,preventGroupItemClick:true,swipe:"both",onCollapseMenuStart:function(){},onCollapseMenuEnd:function(){},onExpandMenuStart:function(){},onExpandMenuEnd:function(){},onGroupItemClick:function(){},onItemClick:function(){},onTitleItemClick:function(){},onBackItemClick:function(){},onMenuReady:function(){},onMenuSwipe:function(){}},c);if(!a.data(O,"plugin_multilevelpushmenu")){a.data(O,"plugin_multilevelpushmenu",T);O.settings=a.data(O,"plugin_multilevelpushmenu")}var G={init:function(){return k.apply(this,Array.prototype.slice.call(arguments))},collapse:function(){return E.apply(this,Array.prototype.slice.call(arguments))},expand:function(){return t.apply(this,Array.prototype.slice.call(arguments))},menuexpanded:function(){return g.apply(this,Array.prototype.slice.call(arguments))},activemenu:function(){return J.apply(this,Array.prototype.slice.call(arguments))},findmenusbytitle:function(){return P.apply(this,Array.prototype.slice.call(arguments))},finditemsbyname:function(){return Q.apply(this,Array.prototype.slice.call(arguments))},pathtoroot:function(){return r.apply(this,Array.prototype.slice.call(arguments))},comparepaths:function(){return A.apply(this,Array.prototype.slice.call(arguments))},option:function(){return e.apply(this,Array.prototype.slice.call(arguments))},additems:function(){return F.apply(this,Array.prototype.slice.call(arguments))},removeitems:function(){return y.apply(this,Array.prototype.slice.call(arguments))},redraw:function(){return R.apply(this,Array.prototype.slice.call(arguments))},visiblemenus:function(){return h.apply(this,Array.prototype.slice.call(arguments))},hiddenmenus:function(){return o.apply(this,Array.prototype.slice.call(arguments))},propagateevent:function(){return j.apply(this,Array.prototype.slice.call(arguments))}};function v(X){if(X.stopPropagation&&X.preventDefault){X.stopPropagation();X.preventDefault()}else{X.cancelBubble=true;X.returnValue=false}}function j(X,Y){if(X==undefined||Y==undefined){return false}X.on(Y,function(ac,Z){X.hide();try{Z=Z||{pageX:ac.pageX,pageY:ac.pageY};var aa=document.elementFromPoint(Z.pageX,Z.pageY);aa=(aa.nodeType==3)?aa.parentNode:aa;a(aa).trigger(Y,Z)}catch(ab){a.error("Error while propagating event: "+ab.message)}finally{X.show()}})}function W(){var X=a("<nav />").prop({id:O.settings.menuID,className:O.settings.wrapperClass}).appendTo(O.settings.container);d(O.settings.menu,X)}function d(Y,X){if(Y.level==undefined){Y.level=0}a.each(Y,function(){var ad=a("<div />").attr({"class":"levelHolderClass"+((O.settings.direction=="rtl")?" rtl":" ltr"),"data-level":Y.level,style:((O.settings.direction=="rtl")?"margin-right: ":"margin-left: ")+((Y.level==0&&!O.settings.collapsed)?0:"-200%")}).appendTo(X),Z=(B(O.settings.menuWidth)||(S(O.settings.menuWidth)&&O.settings.menuWidth>0));ad.on(K,function(ae){v(ae)});ad.bind(f,function(ae){N(ae,ad)});if(this.id!=undefined){ad.attr({id:this.id})}var ab=a("<h2 />").attr({style:"text-align: "+((O.settings.direction=="rtl")?"right":"left")}).text(this.title).appendTo(ad),aa=a("<i />").prop({"class":((O.settings.direction=="rtl")?"floatLeft":"floatRight")+" cursorPointer "+this.icon}).prependTo(ab);aa.bind(K,function(ae){l(ae,ad,Y)});if(Y.level>0){H(ad)}var ac=a("<ul />").appendTo(ad);a.each(this.items,function(){U(this,ad,-1)})})}function u(){var X=(O.settings.container.find("nav").length>0)?O.settings.container.find("nav"):O.settings.menu;if(X.length==0){return false}X.prop({id:O.settings.menuID,className:O.settings.wrapperClass});s(X)}function s(X){if(X.level==undefined){X.level=0}a.each(X,function(){var ac=a("<div />").attr({"class":"levelHolderClass"+((O.settings.direction=="rtl")?" rtl":" ltr"),"data-level":X.level,style:((O.settings.direction=="rtl")?"margin-right: ":"margin-left: ")+((X.level==0&&!O.settings.collapsed)?0:"-200%")}).appendTo(X),Y=(B(O.settings.menuWidth)||(S(O.settings.menuWidth)&&O.settings.menuWidth>0));ac.on(K,function(ad){v(ad)});ac.bind(f,function(ad){N(ad,ac)});var aa=X.children("h2");aa.attr({style:"text-align: "+((O.settings.direction=="rtl")?"right":"left")});aa.appendTo(ac);var Z=aa.children("i");Z.addClass(((O.settings.direction=="rtl")?"floatLeft":"floatRight")+" cursorPointer");Z.bind(K,function(ad){l(ad,ac,X)});if(X.level>0){H(ac)}var ab=X.children("ul");ab.appendTo(ac);a.each(ab.children("li"),function(){var ae=a(this);ae.attr({style:"text-align: "+((O.settings.direction=="rtl")?"right":"left")});var ad=ae.children("a");var af=ad.children("i");af.addClass(((O.settings.direction=="rtl")?"floatLeft":"floatRight"));if(ae.children("ul").length>0){ad.bind(K,function(ag){M(ag,ac,ae)});n(ad);ae.level=X.level+1;s(ae)}else{ad.bind(K,function(ag){x(ag,ac,ae)})}})})}function l(ac,ab,aa){if(a(O).find("div.levelHolderClass").is(":animated")){return false}O.settings.onTitleItemClick.apply(this,Array.prototype.slice.call([ac,ab,O.settings]));v(ac);var Y=(O.settings.direction=="rtl")?parseInt(ab.css("margin-right"))<0:parseInt(ab.css("margin-left"))<0;if(aa.level==0&&Y){t()}else{var ad=O.settings.container.find("#"+O.settings.menuID+" div.levelHolderClass").filter(function(){var ae=(O.settings.direction=="rtl")?((a(this).attr("data-level")>ab.attr("data-level"))&&(parseInt(a(this).css("margin-right"))>=0)):((a(this).attr("data-level")>ab.attr("data-level"))&&(parseInt(a(this).css("margin-left"))>=0));return ae}),Z=O.settings.container.find("#"+O.settings.menuID+" div.levelHolderClass").filter(function(){var ae=(O.settings.direction=="rtl")?((a(this).attr("data-level")<=ab.attr("data-level"))&&(parseInt(a(this).css("margin-right"))>=0)):((a(this).attr("data-level")<=ab.attr("data-level"))&&(parseInt(a(this).css("margin-left"))>=0));return ae}),X=(ad.length==0&&Z.length==1)?E():E(parseInt(ab.attr("data-level")))}ab.css("visibility","visible");ab.find("."+O.settings.backItemClass).css("visibility","visible");ab.find("ul").css("visibility","visible");ab.removeClass(O.settings.menuInactiveClass)}function H(aa){var X=a("<div />").attr({"class":O.settings.backItemClass}).appendTo(aa),Y=a("<a />").prop({href:"#"}).text(O.settings.backText).appendTo(X),Z=a("<i />").prop({"class":((O.settings.direction=="rtl")?"floatLeft ":"floatRight ")+O.settings.backItemIcon}).prependTo(Y);Y.bind(K,function(ab){L(ab,aa)})}function L(Y,X){if(a(O).find("div.levelHolderClass").is(":animated")){return false}O.settings.onBackItemClick.apply(this,Array.prototype.slice.call([Y,X,O.settings]));v(Y);E(parseInt(X.attr("data-level")-1))}function M(Z,Y,X){if(a(O).find("div.levelHolderClass").is(":animated")){return false}O.settings.onGroupItemClick.apply(this,Array.prototype.slice.call([Z,Y,X,O.settings]));t(X.find("div:first"));if(O.settings.preventGroupItemClick){v(Z)}}function n(X){var Y=a("<i />").attr({"class":((O.settings.direction=="rtl")?" floatRight iconSpacing_rtl ":" floatLeft iconSpacing_ltr ")+O.settings.groupIcon}).prependTo(X)}function U(){var aa=arguments[0],ad=arguments[1],X=arguments[2],ac=ad.find("ul:first"),Z=a("<li />");(X<(ac.find("li").length)&&X>=0)?Z.insertBefore(ac.find("li").eq(X)):Z.appendTo(ac);Z.attr({style:"text-align: "+((O.settings.direction=="rtl")?"right":"left")});if(aa.id!=undefined){Z.attr({id:aa.id})}var Y=a("<a />").prop({href:aa.link}).text(aa.name).appendTo(Z),ab=a("<i />").prop({"class":((O.settings.direction=="rtl")?"floatLeft ":"floatRight ")+aa.icon}).prependTo(Y);if(aa.items){Y.bind(K,function(ae){M(ae,ad,Z)});n(Y);aa.items.level=parseInt(ad.attr("data-level"),10)+1;d(aa.items,Z)}else{Y.bind(K,function(ae){x(ae,ad,Z)})}}function x(Z,Y,X){O.settings.onItemClick.apply(this,Array.prototype.slice.call([Z,Y,X,O.settings]));if(O.settings.preventItemClick){v(Z)}}function N(ac,Y){var Z=O.settings.onMenuSwipe.apply(this,Array.prototype.slice.call([ac,Y,O.settings]));if(Z==false){return false}if(a(O).find("div.levelHolderClass").is(":animated")){return false}var ab=(Y.attr("data-level")>0)?Y.attr("data-level")-1:undefined;if(ac.type=="touchmove"&&O.settings.swipe!="desktop"){v(ac);ac=(ac.touches)?ac:ac.originalEvent;if(!ac.touches||ac.touches.length<=0){return false}var aa=ac.touches[0];O.settings.container.unbind("touchend");O.settings.container.bind("touchend",function(ad){v(ad);Y.significance=0;Y.swipeStart=0;O.settings.container.unbind("touchend")});if(Y.swipeStart!=undefined&&Y.swipeStart!=0){Y.significance=aa.pageX-Y.swipeStart}else{Y.significance=0;Y.swipeStart=aa.pageX;return true}if(Math.abs(Y.significance)>O.settings.overlapWidth*0.3){if(O.settings.direction=="rtl"){Y.significance*=(-1)}(Y.significance>0)?t((ab==undefined)?ab:Y):E(ab);Y.significance=0;Y.swipeStart=0}}else{if(O.settings.swipe!="touchscreen"){v(ac);var X=0;Y.unbind("mousemove");Y.bind("mousemove",function(ad){X=ad.clientX-ac.clientX;if(Math.abs(X)>O.settings.overlapWidth*0.3){Y.unbind("mousemove");if(O.settings.direction=="rtl"){X*=(-1)}(X>0)?t((ab==undefined)?ab:Y):E(ab);return true}});O.settings.container.unbind("mouseup");O.settings.container.bind("mouseup",function(ad){v(ad);Y.unbind("mousemove");O.settings.container.unbind("mouseup")})}}}function h(){var X=O.settings.container.find("#"+O.settings.menuID+" div.levelHolderClass").filter(function(){var Y=(O.settings.direction=="rtl")?(parseInt(a(this).css("margin-right"))>=0&&a(this).position().left<O.settings.container.width()-O.settings.overlapWidth):(parseInt(a(this).css("margin-left"))>=0&&a(this).position().left>=0);return Y});if(X.length<1){X=false}return X}function o(){var X=O.settings.container.find("#"+O.settings.menuID+" div.levelHolderClass").filter(function(){var Y=(O.settings.direction=="rtl")?((a(this).position().left>O.settings.container.width()||parseInt(a(this).css("margin-right"))<0)):((a(this).position().left<0||parseInt(a(this).css("margin-left"))<0));return Y});if(X.length<1){X=false}return X}function R(){if(!O.redraw){O.redraw=true;var Z=arguments[0],ac=arguments[1],Y=arguments[2],ab=(a("#"+O.settings.menuID+" div.levelHolderClass").first().css("filter").match(/DXImageTransform\.Microsoft\.Shadow/))?a("#"+O.settings.menuID+" div.levelHolderClass").first().get(0).filters.item("DXImageTransform.Microsoft.Shadow").strength:0,an=(Z==undefined)?Math.max.apply(null,a("#"+O.settings.menuID+" div.levelHolderClass").map(function(){return a(this).width()}).get())-ab:Z-ab,ak=Math.max.apply(null,a("#"+O.settings.menuID+" div.levelHolderClass").map(function(){return a(this).attr("data-level")}).get()),ah=(B(O.settings.menuWidth)||(S(O.settings.menuWidth)&&O.settings.menuWidth>0)),aa=(B(O.settings.menuHeight)||(S(O.settings.menuHeight)&&O.settings.menuHeight>0)),ae=(Y==undefined)?a("#"+O.settings.menuID+" div.levelHolderClass"):Y,ai;if(!ah&&O.menuWidth!=undefined){an=O.menuWidth}(ah&&Z==undefined)?ae.width(O.settings.menuWidth):ae.width(an);if(ah){if((ae.width()==0||(B(O.settings.menuWidth)&&O.settings.menuWidth.indexOf("%")!=-1))&&Z==undefined){ae.css("min-width","");ae.width(parseInt(O.settings.container.parent().width()*parseInt(O.settings.menuWidth)/100))}an=ae.width()-ab;ae.css("min-width",ae.width()-ab+"px")}var ag=(ah&&Z==undefined)?(ae.width()-ab+ak*(O.settings.overlapWidth+ab)):(an+ak*(O.settings.overlapWidth+ab)),am=(ac==undefined)?Math.max.apply(null,a("#"+O.settings.menuID+" div.levelHolderClass").map(function(){return a(this).height()}).get()):ac;O.settings.container.css("min-height","");O.settings.container.children("nav:first").css("min-height","");if(aa){O.settings.container.height(O.settings.menuHeight);O.settings.container.css("min-height",O.settings.menuHeight);O.settings.container.children("nav:first").css("min-height",O.settings.menuHeight);a("#"+O.settings.menuID).height(O.settings.menuHeight);am=O.settings.container.height()}else{a("#"+O.settings.menuID).height(am)}O.settings.container.css("min-height",am+"px");O.settings.container.children("nav:first").css("min-height",am+"px");O.settings.container.width(ag);O.settings.container.height(am);var aj=a("#"+O.settings.menuID+" div.levelHolderClass:first"),al=h(),ad=o(),X=J(),af=(X.length==1)?X.attr("data-level"):0;if(al){al.each(function(){if(O.settings.mode=="overlap"){a(this).width(a(this).width()+(parseInt(af,10)-parseInt(a(this).attr("data-level"),10))*(O.settings.overlapWidth+ab))}})}if(ad){ad.each(function(){(O.settings.direction=="rtl")?a(this).css("margin-right",(a(this).attr("data-level")==aj.attr("data-level")&&!O.settings.fullCollapse)?a(this).width()*(-1)+O.settings.overlapWidth:a(this).width()*(-2)):a(this).css("margin-left",(a(this).attr("data-level")==aj.attr("data-level")&&!O.settings.fullCollapse)?a(this).width()*(-1)+O.settings.overlapWidth:a(this).width()*(-2))})}ai=aj.width()+parseInt(aj.css((O.settings.direction=="rtl")?"margin-right":"margin-left"),10);i(O.settings.container,ai);O.menuWidth=an;O.menuHeight=am;O.redraw=false}}function i(X,Y){if(X==undefined||Y==undefined){return false}X.css("min-width","");X.css("min-width",Y+"px");X.children("nav:first").css("min-width","");X.children("nav:first").css("min-width",Y+"px");X.width(Y)}function D(){var Y=a("#"+O.settings.menuID+" div.levelHolderClass:first"),X=O.settings.container.find("#"+O.settings.menuID+" div.levelHolderClass").filter(function(){var Z=(O.settings.direction=="rtl")?((a(this).position().left>O.settings.container.width()||parseInt(a(this).css("margin-right"))<0)&&a(this).attr("data-level")>Y.attr("data-level")):((a(this).position().left<0||parseInt(a(this).css("margin-left"))<0)&&a(this).attr("data-level")>Y.attr("data-level"));return Z});X.each(function(){if(O.settings.direction=="rtl"){a(this).css("margin-right",((a(this).attr("data-level")==Y.attr("data-level")&&!O.settings.collapsed)?0:(-2)*a(this).width()))}else{a(this).css("margin-left",((a(this).attr("data-level")==Y.attr("data-level")&&!O.settings.collapsed)?0:(-2)*a(this).width()))}});if(O.settings.direction=="rtl"){Y.css("margin-right",(!O.settings.collapsed)?0:(-2)*Y.width())}else{Y.css("margin-left",(!O.settings.collapsed)?0:(-2)*Y.width())}}function S(X){return typeof X==="number"&&parseFloat(X)==parseInt(X,10)&&!isNaN(X)}function B(X){return typeof X==="string"&&(X.indexOf("%")!=-1||X.indexOf("px")!=-1||X.indexOf("em")!=-1)}function k(){var X=(c&&c.menu!=undefined)?W():u();j(O.settings.container,K);R();D();z(O.settings.collapsed);O.settings.onMenuReady.apply(this,Array.prototype.slice.call([O.settings]));return q}function z(X){if(X){$baseLevelHolder=a("#"+O.settings.menuID+" div.levelHolderClass:first");$baseLevelHolder.find("ul").hide();$baseLevelHolder.addClass(O.settings.menuInactiveClass);if(O.settings.direction=="rtl"){$baseLevelHolder.stop().animate({marginRight:((-1)*$baseLevelHolder.width()+((O.settings.fullCollapse)?0:O.settings.overlapWidth))})}else{$baseLevelHolder.stop().animate({marginLeft:((-1)*$baseLevelHolder.width()+((O.settings.fullCollapse)?0:O.settings.overlapWidth))})}}}function C(X){if(O.settings.containersToPush==null){return false}a.each(O.settings.containersToPush,function(){var Z=parseInt(a(this).css("margin-left")),aa=S(Z)?Z:0,Y=parseInt(a(this).css("margin-right")),ab=S(Y)?Y:0;a(this).stop().animate({marginLeft:aa+((O.settings.direction=="rtl")?(-1):1)*X,marginRight:ab+((O.settings.direction=="rtl")?1:(-1))*X})})}function E(){if(a(O).find("div.levelHolderClass").is(":animated")){return false}O.settings.onCollapseMenuStart.apply(this,Array.prototype.slice.call([O.settings]));var Y=arguments[0],ah=arguments[1],ac={},Z,aa,ab,ak,ai,aj=a("#"+O.settings.menuID+" div.levelHolderClass:first"),af=(Y==undefined)?true:false,ag;ac.collapsingEnded=false;if(typeof Y=="object"){Y=Y.attr("data-level")}else{if(typeof Y=="string"){var X=P(Y);if(X&&X.length==1){Y=X.attr("data-level")}else{Y=aj.attr("data-level")}}else{if(Y==undefined||!S(Y)||Y<0){Y=aj.attr("data-level")}}}if(ah==undefined&&typeof ah!="object"){ah=[{method:O.settings.onCollapseMenuEnd,args:[O.settings]}]}else{a.merge(ah,[{method:O.settings.onCollapseMenuEnd,args:[O.settings]}])}var ae=O.settings.container.find("#"+O.settings.menuID+" div.levelHolderClass").filter(function(){var al=(O.settings.direction=="rtl")?(a(this).attr("data-level")>Y)&&(parseInt(a(this).css("margin-right"))>=0&&a(this).position().left<O.settings.container.width()-O.settings.overlapWidth):(a(this).attr("data-level")>Y)&&(parseInt(a(this).css("margin-left"))>=0&&a(this).position().left>=0);return al}),ad=O.settings.container.find("#"+O.settings.menuID+" div.levelHolderClass").filter(function(){var al=(O.settings.direction=="rtl")?(a(this).attr("data-level")<=Y)&&(parseInt(a(this).css("margin-right"))>=0&&a(this).position().left<O.settings.container.width()-O.settings.overlapWidth):(a(this).attr("data-level")<=Y)&&(parseInt(a(this).css("margin-left"))>=0&&a(this).position().left>=0);return al});if(ad.length>0){ac.prevAnimEnded=false;ae.each(function(al,am){Z=(a(am).css("filter").match(/DXImageTransform\.Microsoft\.Shadow/))?a(am).get(0).filters.item("DXImageTransform.Microsoft.Shadow").strength:0;aa=(O.settings.mode=="overlap")?a(am).width()-(ae.length+ad.length-a(am).attr("data-level")-1)*(O.settings.overlapWidth+Z)-Z:a(am).width()-Z;if(O.settings.direction=="rtl"){a(am).stop().animate({marginRight:((-1)*aa),width:aa})}else{a(am).stop().animate({marginLeft:((-1)*aa),width:aa})}});ac.nextAnimEnded=(ae.length>0)?false:true;ae.last().queue(function(){ac.nextAnimEnded=true;I(ac,ah)});ad.each(function(am,ao){Z=(a(ao).css("filter").match(/DXImageTransform\.Microsoft\.Shadow/))?a(ao).get(0).filters.item("DXImageTransform.Microsoft.Shadow").strength:0;var al=ad.filter(function(){return a(this).attr("data-level")==Y});al.css("visibility","visible");al.find("."+O.settings.backItemClass).css("visibility","visible");al.find("ul").css("visibility","visible");al.removeClass(O.settings.menuInactiveClass);aa=(O.settings.mode=="overlap")?a(ao).width()-ae.length*(O.settings.overlapWidth+Z)-Z:a(ao).width()-Z;if(O.settings.direction=="rtl"){a(ao).stop().animate({width:aa,marginRight:(a(ao).attr("data-level")==aj.attr("data-level")&&af)?(O.settings.fullCollapse)?(-1)*a(ao).width():((-1)*a(ao).width()+((O.settings.mode=="overlap")?ae.length+1:1)*O.settings.overlapWidth):0},function(){if(a(ao).attr("data-level")==aj.attr("data-level")&&af){aj.children("ul").first().hide(500,function(){aj.addClass(O.settings.menuInactiveClass)})}ag=aj.width()+parseInt(aj.css("margin-right"),10);i(O.settings.container,ag)})}else{a(ao).stop().animate({width:aa,marginLeft:(a(ao).attr("data-level")==aj.attr("data-level")&&af)?(O.settings.fullCollapse)?(-1)*a(ao).width():((-1)*a(ao).width()+((O.settings.mode=="overlap")?ae.length+1:1)*O.settings.overlapWidth):0},function(){if(a(ao).attr("data-level")==aj.attr("data-level")&&af){aj.children("ul").first().hide(500,function(){aj.addClass(O.settings.menuInactiveClass)})}ag=aj.width()+parseInt(aj.css("margin-left"),10);i(O.settings.container,ag)})}ab=(O.settings.mode=="overlap")?((-1)*(ae.length*(O.settings.overlapWidth+Z))):0;if(a(ao).attr("data-level")==aj.attr("data-level")&&af){var an=(O.settings.fullCollapse)?(-1)*(aj.width()-Z):(-1)*(aj.width()-Z)+O.settings.overlapWidth;C(an)}else{C(ab)}});ad.last().queue(function(){ac.prevAnimEnded=true;I(ac,ah)})}ac.collapsingEnded=true;I(ac,ah);return q}function w(){if(a(O).find("div.levelHolderClass").is(":animated")){return false}O.settings.onExpandMenuStart.apply(this,Array.prototype.slice.call([O.settings]));var Z=arguments[0],ai=arguments[1],Y,aa,ac,ag,aj,ab={},ak=a("#"+O.settings.menuID+" div.levelHolderClass:first"),ae=(Z==undefined)?true:false,am=(O.settings.direction=="rtl")?parseInt(ak.css("margin-right"),10)<0||ak.position().left>=O.settings.container.width()-O.settings.overlapWidth:parseInt(ak.css("margin-left"),10)<0||ak.position().left<0;ab.expandingEnded=false;if(ai==undefined&&typeof ai!="object"){ai=[{method:O.settings.onExpandMenuEnd,args:[O.settings]}]}else{a.merge(ai,[{method:O.settings.onExpandMenuEnd,args:[O.settings]}])}if(ae){ab.baseAnimEnded=false;ak.removeClass(O.settings.menuInactiveClass);aj=ak.width();i(O.settings.container,aj);if(O.settings.direction=="rtl"){ak.stop().animate({marginRight:0},function(){ak.children("ul").first().show(500,function(){ab.baseAnimEnded=true;I(ab,ai)})})}else{ak.stop().animate({marginLeft:0},function(){ak.children("ul").first().show(500,function(){ab.baseAnimEnded=true;I(ab,ai)})})}ag=(O.settings.fullCollapse)?ak.width():ak.width()-O.settings.overlapWidth;var al=(!g(ak))?C(ag):null}else{if(typeof Z=="object"){$selectedLevelHolder=Z}else{if(typeof Z=="string"){$selectedLevelHolder=P(Z)}else{$selectedLevelHolder=null;a.error("Provided menu selector is not valid")}}if($selectedLevelHolder&&$selectedLevelHolder.length==1){var X=J(),ah=(X.length==1)?X.attr("data-level"):0,ad=$selectedLevelHolder.width();ab.setToOpenAnimEnded=false;if(setToOpenHolders=r($selectedLevelHolder)){var af=a(setToOpenHolders).length-1;ak.find("ul").each(function(){a(this).show(0)});a(setToOpenHolders).find("ul").css("visibility","hidden");a(setToOpenHolders).find("div").css("visibility","visible");a(setToOpenHolders).find("."+O.settings.backItemClass).css("visibility","hidden");a(setToOpenHolders).each(function(an,ao){Y=(a(ao).css("filter").match(/DXImageTransform\.Microsoft\.Shadow/))?a(ao).get(0).filters.item("DXImageTransform.Microsoft.Shadow").strength:0;aa=ad-Y+(af-a(ao).attr("data-level"))*(O.settings.overlapWidth+Y);if(O.settings.container.width()<aa&&O.settings.mode=="overlap"){i(O.settings.container,aa)}if(O.settings.direction=="rtl"){a(ao).stop().animate({marginRight:0,width:(O.settings.mode=="overlap")?aa:ad-Y},function(){a(ao).addClass(O.settings.menuInactiveClass)})}else{a(ao).stop().animate({marginLeft:0,width:(O.settings.mode=="overlap")?aa:ad-Y},function(){a(ao).addClass(O.settings.menuInactiveClass)})}});a(setToOpenHolders).last().queue(function(){a(this).removeClass(O.settings.menuInactiveClass);ab.setToOpenAnimEnded=true;I(ab,ai)});if(am){ag=(O.settings.fullCollapse)?ak.width():(ak.width()-O.settings.overlapWidth);C(ag)}if(O.settings.mode=="overlap"){ac=((am)?(ad+(af-((O.settings.fullCollapse)?0:1))*(O.settings.overlapWidth+Y)):((af-ah)*(O.settings.overlapWidth+Y)));C(ac)}$selectedLevelHolder.css("visibility","visible");$selectedLevelHolder.find("."+O.settings.backItemClass).css("visibility","visible");$selectedLevelHolder.find("ul").css("visibility","visible");$selectedLevelHolder.removeClass(O.settings.menuInactiveClass)}else{a.error("Invalid menu object provided")}}else{a.error("No or too many menus named "+Z)}}ab.expandingEnded=true;I(ab,ai)}function t(){var ac=arguments[0],Z,Y=J(),ab,X,aa;if(typeof ac=="object"){Z=ac}else{if(typeof ac=="string"){aa=P(ac);if(aa){Z=aa.eq(0)}else{a.error(ac+" menu level does not exist!")}}else{Z=a("#"+O.settings.menuID+" div.levelHolderClass:first")}}ab=A(Z,Y,true);X=(ab.length>0)?Math.max.apply(null,ab.map(function(){return a(this).attr("data-level")}).get()):0;if(X<Y.attr("data-level")){E(X,[{method:w,args:arguments}])}else{w.apply(this,Array.prototype.slice.call(arguments))}return q}function P(){var X=arguments[0],Y,Z=O.settings.container.find("#"+O.settings.menuID+" div.levelHolderClass").filter(function(){return((a(this).children("h2").text()==X))});if(Z.length>0){returnValue=Z;Y=returnValue}else{returnValue=false;Y=returnValue}return Y}function Q(){var Z=arguments[0],X,Y=O.settings.container.find("#"+O.settings.menuID+" div.levelHolderClass li").filter(function(){return((a(this).children("a").text()==Z))});if(Y.length>0){returnValue=Y;X=returnValue}else{returnValue=false;X=returnValue}return X}function r(){var Z=arguments[0],aa,Y,X;if(Z==undefined||Z.length!=1){returnValue=false;return returnValue}aa=Z.parents("div.levelHolderClass");Y=a.merge(aa.get().reverse(),Z.get());returnValue=Y;return returnValue}function A(){var ag=arguments[0],ae=arguments[1],ad=(arguments[2]!=undefined)?arguments[2]:false,ac,Z,ab,aa,ah,Y,af,X;if(ag==undefined||ae==undefined){returnValue=false;return returnValue}ac=(ag.length==1)?ag.parents("div.levelHolderClass"):null;Z=(ae.length==1)?ae.parents("div.levelHolderClass"):null;ab=(ac!=null)?a.merge(ac.get().reverse(),ag.get()):[];aa=(Z!=null)?a.merge(Z.get().reverse(),ae.get()):[];ah=(ab.length>=aa.length)?ab:aa;Y=(ah===ab)?aa:ab;af=a(ah).filter(function(){return(ad)?(a.inArray(this,Y)!=-1):(a.inArray(this,Y)==-1)});returnValue=af;return returnValue}function J(){var Y=O.settings.container.find("#"+O.settings.menuID+" div.levelHolderClass").filter(function(){var Z=(O.settings.direction=="rtl")?((parseInt(a(this).css("margin-right"))>=0&&a(this).position().left<O.settings.container.width()-O.settings.overlapWidth)):((parseInt(a(this).css("margin-left"))>=0&&a(this).position().left>=0));return Z}),X=Math.max.apply(null,Y.map(function(){return a(this).attr("data-level")}).get());$activeLevelHolder=Y.filter(function(){return a(this).attr("data-level")==X});returnValue=$activeLevelHolder;return returnValue}function g(){var Z=arguments[0],Y=false;if(Z==undefined){return Y}var X=(O.settings.direction=="rtl")?(parseInt(Z.css("margin-right"))>=0&&Z.position().left<O.settings.container.width()-O.settings.overlapWidth):(parseInt(Z.css("margin-left"))>=0&&Z.position().left>=0);return X}function F(){var Y=arguments[0],aa=arguments[1],X=arguments[2];if(aa==undefined||typeof Y!="object"||!aa){return false}if(Y.level==undefined){Y.level=parseInt(aa.attr("data-level"),10)}if(X==undefined){X=0}var Z=aa.find("ul:first");a.each(Y,function(){if(this.name!=undefined){U(this,aa,X)}});R(O.menuWidth);return q}function y(){var aa=arguments[0];if(aa==undefined||typeof aa!="object"||aa.length==0){return false}aa.remove();var X=J();if(X.length==1){X.css("visibility","visible");X.find("."+O.settings.backItemClass).css("visibility","visible");X.find("ul").css("visibility","visible");X.removeClass(O.settings.menuInactiveClass);var Y=X.width()-O.menuWidth;if(Y!=0){var Z=h();if(Z){Z.each(function(){a(this).width(a(this).width()-Y)})}}}R(O.menuWidth);return q}function I(X,Z){var Y=true;a.each(X,function(aa,ab){Y=Y&&ab});if(Y){window.setTimeout(function(){a.each(Z,function(aa,ab){ab.method.apply(this,Array.prototype.slice.call(ab.args))})},1)}}function e(){var X=false;if(O.settings[arguments[0]]!=undefined){if(arguments[1]!=undefined){O.settings[arguments[0]]=arguments[1]}X=O.settings[arguments[0]]}else{a.error("No option "+arguments[0]+" found in jQuery.multilevelpushmenu")}return X}function p(){var X=false;(function(Y){if(/(android|ipad|playbook|silk|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(Y)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(Y.substr(0,4))){X=true}})(navigator.userAgent||navigator.vendor||window.opera);return X}if(p()){K="touchend";f="touchmove"}else{K="click";f="mousedown"}if(G[c]){returnValue=G[c].apply(this,Array.prototype.slice.call(b,1));return returnValue}else{if(typeof c==="object"||!c){returnValue=G.init.apply(this,arguments);return returnValue}else{a.error("No "+c+" method found in jQuery.multilevelpushmenu")}}if(!returnValue){returnValue=this}});return returnValue}}(jQuery));